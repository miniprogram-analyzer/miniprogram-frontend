<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Simditor</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">

    <link media="all" rel="stylesheet" type="text/css" href="/utils/simditor/assets/styles/app.css" />
    <link media="all" rel="stylesheet" type="text/css" href="/utils/simditor/assets/styles/simditor.css" />
    <link media="all" rel="stylesheet" type="text/css"
        href="/utils/simditor/assets/extensions/checklist/styles/simditor-checklist.css" />
    <link media="all" rel="stylesheet" type="text/css" href="/utils/simditor/assets/extensions/emoji/styles/simditor-emoji.css" />
    <link media="all" rel="stylesheet" type="text/css"
        href="/utils/simditor/assets/extensions/fullscreen/styles/simditor-fullscreen.css" />
    <link media="all" rel="stylesheet" type="text/css" href="/utils/simditor/assets/extensions/html/styles/simditor-html.css" />

    <script type="text/javascript" src="/utils/simditor/assets/scripts/jquery.min.js"></script>
    <script type="text/javascript" src="/utils/simditor/assets/scripts/mobilecheck.js"></script>
    <!--<script type="text/javascript">
        if (mobilecheck()) {
            $('<link/>', {
                media: 'all',
                rel: 'stylesheet',
                type: 'text/css',
                href: '/utils/simditor/assets/styles/mobile.css'
            }).appendTo('head')
        }
    </script>-->
</head>

<body>

    <section id="simditor-richtext">
        <textarea id="txt-content" style="display:none" data-autosave="editor-content" autofocus required>
                <p>Simditor is a browser-based WYSIWYG text editor.</p>
                <p>It is used by <a href="http://tower.im">Tower</a> -- a popular project management web application.</p>
                <p>Supported Browsers: IE10+、Chrome、Firefox、Safari.</p>
                <ul>
                    <li><a href="https://github.com/mycolorway/simditor/releases" target="_blank" class="">Download Zip</a></li>
                    <li>Install with npm: $ npm install simditor</li>
                    <li>Install with bower: $ bower install simditor</li>
                </ul>
            </textarea>
    </section>

    <script type="text/javascript" src="/utils/simditor/assets/scripts/module.js"></script>
    <script type="text/javascript" src="/utils/simditor/assets/scripts/uploader.js"></script>
    <script type="text/javascript" src="/utils/simditor/assets/scripts/hotkeys.js"></script>
    <script type="text/javascript" src="/utils/simditor/assets/scripts/simditor.js"></script>
    <script type="text/javascript" src="/utils/simditor/assets/extensions/autosave/lib/simditor-autosave.js"></script>
    <script type="text/javascript" src="/utils/simditor/assets/extensions/checklist/lib/simditor-checklist.js"></script>
    <script type="text/javascript" src="/utils/simditor/assets/extensions/dropzone/lib/simditor-dropzone.js"></script>
    <script type="text/javascript" src="/utils/simditor/assets/extensions/emoji/lib/simditor-emoji.js"></script>
    <script type="text/javascript" src="/utils/simditor/assets/extensions/fullscreen/lib/simditor-fullscreen.js"></script>
    <script type="text/javascript" src="/utils/simditor/assets/extensions/html/lib/beautify-html.js"></script>
    <script type="text/javascript" src="/utils/simditor/assets/extensions/html/lib/simditor-html.js"></script>
    <script type="text/javascript" src="/utils/simditor/assets/extensions/mark/lib/simditor-mark.js"></script>
    <script type="text/javascript" src="/utils/simditor/assets/extensions/simditor-undo.js"></script>
    <script>
        (function () {
            $(function () {
                var $preview, editor, mobileToolbar, toolbar;
                Simditor.locale = 'en-US';
                toolbar = ['undo', 'redo', '|', 'title', 'bold', 'italic', 'underline', 'strikethrough',
                    'fontScale', 'color', 'mark', '|', 'ol', 'ul', 'checklist', 'blockquote', 'code',
                    'table', '|', 'link', 'image', 'emoji', 'hr', '|', 'indent', 'outdent', 'alignment',
                    '|', 'html', 'fullscreen'
                ];
                mobileToolbar = ["bold", "underline", "strikethrough", "color", "ul", "ol"];
                if (mobilecheck()) {
                    toolbar = mobileToolbar;
                }
                editor = new Simditor({
                    textarea: $('#txt-content'),
                    placeholder: '这里输入文字...',
                    toolbar: toolbar,
                    emoji: {
                        imagePath: '/utils/simditor/assets/extensions/emoji/images/emoji/'
                    },
                    pasteImage: true,
                    defaultImage: '/utils/simditor/assets/extensions/emoji/images/image.png',
                    upload: /*location.search === '?upload' ? */ {
                        url: '/upload'
                    } /*: false*/,
                    pasteImage: true
                });
                $preview = $('#preview');
                if ($preview.length > 0) {
                    return editor.on('valuechanged', function (e) {
                        return $preview.html(editor.getValue());
                    });
                }
            });

        }).call(this);
    </script>


</body>

</html>