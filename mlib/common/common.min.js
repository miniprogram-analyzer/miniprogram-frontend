function setCookie(n,t,i,r,u,f){var e=n+"="+t,o;return i&&(o=new Date,o.setHours(o.getHours()+i),e+="; expires="+o.toGMTString()),e+=r?"; path="+r:"",e+=u?"; domain="+u:"",e+=f?"; secure="+f:"",document.cookie=e,!0}function getCookie(n){return document.cookie.length>0&&(c_start=document.cookie.indexOf(n+"="),c_start!==-1)?(c_start=c_start+n.length+1,c_end=document.cookie.indexOf(";",c_start),c_end===-1&&(c_end=document.cookie.length),decodeURIComponent(document.cookie.substring(c_start,c_end))):""}function GetHitCountAuthority(){var n=!1;return typeof userInfo=="undefined"||!userInfo||userInfo.UserID!==1&&userInfo.UserID!==1204956||(n=!0,Api.News.NewsHitCountGet=Api.News.NewsHitCountGet+"? authority=true"),n}function GetQueryString(n){var i=new RegExp("(^|&)"+n+"=([^&]*)(&|$)"),t=window.location.search.substr(1).match(i);return t!==null?decodeURIComponent(t[2]):null}function ParseDate(n){var i,r,t;return n=n.replace("T"," ").replace(/[a-zA-Z()\/]/g,"").replace(/-/g,"/"),r=/[-\/.]/g,r.test(n)?(t=n.split(/[- : \/]/),i=new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5])):i=new Date(parseInt(n)),i}function DataTimeToLocalTime(n,t){t=t?parseFloat(t):8;n=ParseDate(n);var i=n.getTime(),r=36e5*t,u=i-r;return new Date(u-n.getTimezoneOffset()*6e4)}function ParseDateFmt(n,t){var r;n=new Date(n);var u={"M+":n.getMonth()+1,"d+":n.getDate(),"H+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()},f=n.getFullYear(),i=f+"";i=i.length>=4?i:"0000".substr(0,4-i.length)+i;t||(t="yyyy-MM-dd HH:mm:ss");/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(i+"").substr(4-RegExp.$1.length)));for(r in u)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,RegExp.$1.length===1?u[r]:("00"+u[r]).substr((""+u[r]).length)));return t}function ParseNetJsonDateFmt(n,t){return ParseDateFmt(ParseDate(n),t)}function GetNowTime(n){return n||(n="yyyy-MM-dd"),ParseDateFmt(new Date,n)}function LoadJs(n,t){var i=document.getElementsByTagName("script"),r=document.createElement("script");i=i[i.length-1];r.src=n;r.async=!0;i.parentNode.insertBefore(r,i);r.onload=t}function DealTarget(){(matchMedia("(display-mode: standalone)").matches||"standalone"in navigator&&navigator.standalone||!navigator.userAgent.match(/(iPhone|iPod|iPad)/i))&&$(".placeholder > a[target='_blank']").removeAttr("target")}function LoginWindow(n){$("meta[name='referrer']").remove();self.frameElement&&self.frameElement.tagName==="IFRAME"?((n===""||n===null||$.type(n)==="undefined")&&(n=window.parent.location.href),localStorage.setItem("Loged_Return",n),window.parent.location.href="/login/?source="+location.pathname+(window.localStorage.getItem("LightDarkSet")==="dark"?"&night=1":window.localStorage.getItem("LightDarkSet")==="light"?"&night=0":"")):((n===""||n===null||$.type(n)==="undefined")&&(n=window.location.href),localStorage.setItem("Loged_Return",n),window.location.href="/login/?source="+location.pathname+(window.localStorage.getItem("LightDarkSet")==="dark"?"&night=1":window.localStorage.getItem("LightDarkSet")==="light"?"&night=0":""))}function HideShare(){$(".user-menu-box .user-column.share-to-fr").hide();document.addEventListener("WeixinJSBridgeReady",function(){WeixinJSBridge.call("hideOptionMenu")});var n=window.location.href;$.ajax({type:"get",url:Api.WeChat.JsSdkConfigGet,data:{Url:n},dataType:"json",success:function(n){n.Success===1&&(n.Result.jsApiList=["hideMenuItems"],wx.config(n.Result),wx.ready(function(){wx.hideMenuItems({menuList:["menuItem:share:appMessage","menuItem:share:timeline","menuItem:share:qq","menuItem:share:weiboApp","menuItem:favorite","menuItem:share:facebook","menuItem:share:QZone","menuItem:copyUrl","menuItem:openWithSafari","menuItem:openWithQQBrowser","menuItem:share:email","menuItem:share:brand","menuItem:originPage","menuItem:share:workWeChat"]})}))}})}function downloadImage(n){var t=$("<a><\/a>").attr("href",n).attr("download","ithome.png").appendTo("body");t[0].click();t.remove()}var Domain={WapDomain:"https://"+window.location.host,WapAppDomain:"https://"+window.location.host+"/app",WapHtmlDomain:"https://"+window.location.host+"/html",WapImageDomain:"https://img.ithome.com/m/images",WapJsDomain:"https://"+window.location.host+"/js",LaPinDomain:"https://m.lapin365.com",LaPinImageDomain:"https://img.lapin365.com",QuanDomain:"https://quan.ithome.com/wap",UserIndexDomain:"//"+window.location.host+"/user",UserHeadImgDomain:"https://avatar.ithome.com/avatars/",DynLogin:"https://dyn.ithome.com/js/login"},Api={News:{NewPromoteGet:"/api/news/newpromoteget",NewsGradeGet:"/api/news/newsgradeget",NewsGradeSet:"/api/news/newsgradeset",NewsGradeCannel:"/api/news/newsgradecannel",UserNewsCollectSet:"/api/news/usernewscollectset",NewsListPageGet:"/api/news/newslistpageget",NewsTagListPageGet:"/api/news/newstaglistpageget",NewsHitCountGet:"/api/news/newshitcountget",NewsErrorCorrection:"/api/news/newserrorcorrection",NewsRewardGet:"/api/news/newsrewardget",MoreRelatedNewsGet:"/api/news/morerelatednewsget"},Comment:{HotCommentGet:"/api/comment/hotcommentget",NewsCommentListGet:"/api/comment/newscommentlistget",JoinHotCommentGet:"/api/comment/joinhotcommentget",CommentCollapseGet:"/api/comment/commentcollapseget",PostComment:"/api/comment/postcomment",CommentVote:"/api/comment/commentvote",CommentCancelVote:"/api/comment/commentcancelvote",UserCommentCollectSet:"/api/comment/usercommentcollectset",UserCommentCollectGet:"/api/comment/usercommentcollectget",Complain:"/api/comment/commentcomplain",LapinCommentCountGet:"/api/comment/lapincommentcountget",NewsCommentCountGet:"/api/comment/newscommentcountget",LapinCommentComplain:"/api/comment/lapincommentcomplain",UserCommentGet:"/api/comment/usercommentget",UserAllCommentGet:"/api/comment/userallcommentget",UserCommentDel:"/api/comment/usercommentdel",NCommentDel:"/api/comment/ncommentdel"},Search:{SearchHotWordsGet:"/api/search/searchhotwordsget",NewsSearchGet:"/api/search/searchnewsget"},User:{UserLogout:"/api/user/logout",UserInfoGet:"/api/user/userinfoget",RuanMeiHashLogin:"/api/user/ruanmeihashlogin",UserColumns:"/api/user/usercolumns",CoinDetails:"/api/user/coindetails"},Quan:{SubmitPost:"/api/quan/submitpost"},LaPin:{OurBuyGet:"/api/lapin/ourbuyget"},WeChat:{JsSdkConfigGet:"/api/wechat/jssdkconfigget"}},userInfo=null,userInfoLastLoginDateCookie=getCookie("userInfo=LastLoginDate"),userInfoJson,createDate,userDeviceInfo,browser;if(userInfoLastLoginDateCookie!==""&&userInfoLastLoginDateCookie!==null&&userInfoLastLoginDateCookie!==undefined&&(userInfoJson=sessionStorage.getItem("UserInfo"),userInfoJson!==null&&userInfoJson!==""&&userInfoJson!==undefined))try{userInfo=JSON.parse(userInfoJson);createDate=ParseDate(userInfo.CreateDate);createDate.setHours(createDate.getHours()+2)<=new Date&&(userInfo=null)}catch(e){userInfo=null}(userInfo===null||userInfo===""||userInfo===undefined);userDeviceInfo=null;$.type(window.localStorage.getItem("UserDeviceInfo"))!=="undefined"&&window.localStorage.getItem("UserDeviceInfo")!==null&&window.localStorage.getItem("UserDeviceInfo")!==""&&(userDeviceInfo=JSON.parse(window.localStorage.getItem("UserDeviceInfo")));browser={versions:function(){var n=navigator.userAgent,t=navigator.appVersion;return{trident:n.indexOf("Trident")>-1,presto:n.indexOf("Presto")>-1,webKit:n.indexOf("AppleWebKit")>-1,gecko:n.indexOf("Gecko")>-1&&n.indexOf("KHTML")===-1,mobile:!!n.match(/AppleWebKit.*Mobile.*/),ios:!!n.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:n.indexOf("Android")>-1||n.indexOf("Linux")>-1,iPhone:n.indexOf("iPhone")>-1,iPad:n.indexOf("iPad")>-1,webApp:n.indexOf("Safari")===-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()};DealTarget();ScrollDirect=function(n){var t="",i="",r=document.documentElement.scrollTop;n=n||function(){};document.body.offsetHeight<=(window.innerHeight||document.body.clientHeight||document.documentElement.clientHeight)&&(i="load",n(t,i));window.addEventListener("scroll",function(u){var f,e,o;if(u=u||window.event,f=$(window).scrollTop(),delta=f-r,r=f,e=$(document).height(),o=$(window).height(),i=f+o>e-370?"load":"noload",f<12||f+o>e-78)t="up";else if(delta>0){if(Math.abs(delta)<3)return!1;t="down"}else{if(Math.abs(delta)<7)return!1;t="up"}n(t,i);DealTarget()},!1)};$(document).on("click",".sdk-mask",function(){$("input,textarea").blur();$(".sdk-mask-close").addClass("hide");$(".sdk-mask-remove").remove();$("body").css("pointer-events","none");setTimeout(function(){$("body").css("pointer-events","auto")},400)});$(function(){if(navigator.userAgent.indexOf("Windows Phone")!==-1&&navigator.userAgent.indexOf("Edge")!==-1&&$(".three-img-plc .plc-image").css({height:$(".one-img-plc img:first").css("height"),"padding-bottom":0}),screen.width<360&&$(".lapin-plc .plc-con .lapin-info .promotion").hide(),matchMedia("(display-mode: standalone)").matches||"standalone"in navigator&&navigator.standalone){var n=/iphone/gi.test(window.navigator.userAgent)&&window.devicePixelRatio&&window.devicePixelRatio===3&&window.screen.width===375&&window.screen.height===812,t=/iphone/gi.test(window.navigator.userAgent)&&window.devicePixelRatio&&window.devicePixelRatio===3&&window.screen.width===414&&window.screen.height===896,i=/iphone/gi.test(window.navigator.userAgent)&&window.devicePixelRatio&&window.devicePixelRatio===2&&window.screen.width===414&&window.screen.height===896;(n||t||i)&&$(".footer .footer-box .ft").css("padding-bottom","2.4rem")}$(document).on("click",".fixed-btn .go-top",function(){$("html,body").stop(!0,!0).animate({scrollTop:0},370)});GetQueryString("hideshare")==="true"&&(typeof wx=="undefined"?LoadJs("https://res.wx.qq.com/open/js/jweixin-1.4.0.js",HideShare):HideShare())});